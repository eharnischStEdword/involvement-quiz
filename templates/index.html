<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5JQ9X7HQPT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-5JQ9X7HQPT');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Path at St. Edward</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â›ª</text></svg>">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Preparing Your Journey...</div>
        <div class="loading-subtext">
            Getting everything ready for you â›ª
        </div>
    </div>
    
  <header class="header">
    <div class="header-content">
        <img src="https://static.wixstatic.com/media/a33a4b_ed0efbf5e52d458ab137fc4f85e55260~mv2.png" alt="St. Edward Church Logo" class="header-logo" />
        <div class="logo-text">St. Edward Church & School</div>
    </div>
</header>

<div class="container">
    <div class="main-card">
        <div class="card-header">
            <h2 class="welcome-title">Welcome to St. Edward!</h2>
            <div class="subtitle">Find Your Path in Our Community</div>
            <div class="theme-verse">"Through Love, Serve One Another" - Galatians 5:13</div>
            <p>Let's help you discover the perfect way to get involved in our community. This takes just 2-3 minutes!</p>
        </div>

            <div class="card-content">
                <div class="progress-container">
                    <div class="progress">
                        <div class="progress-bar" id="progress-bar"></div>
                    </div>
                    <div class="progress-text" id="progress-text">Let's get started!</div>
                </div>
                
                <!-- Question 1: Age -->
                <div class="question active" id="q1">
                    <div class="question-icon">ğŸ‘¤</div>
                    <h2>First, tell us about yourself:</h2>
                    <p class="question-helper">Select the option that best describes you or your child</p>
                    <div class="button-group">
                        <button class="option-btn" onclick="answerQuestion('age', 'infant')">
                            <span class="btn-emoji">ğŸ‘¶</span> Infant (0-3)
                        </button>
                        <button class="option-btn" onclick="answerQuestion('age', 'elementary')">
                            <span class="btn-emoji">ğŸ’</span> Elementary School (PreK-Grade 5)
                        </button>
                        <button class="option-btn" onclick="answerQuestion('age', 'junior-high')">
                            <span class="btn-emoji">ğŸ“š</span> Junior High (Grades 6-8)
                        </button>
                        <button class="option-btn" onclick="answerQuestion('age', 'high-school')">
                            <span class="btn-emoji">ğŸ“</span> High School (Grades 9-12)
                        </button>
                        <button class="option-btn" onclick="answerQuestion('age', 'college-young-adult')">
                            <span class="btn-emoji">ğŸ¯</span> College & Young Adult (18-35)
                        </button>
                        <button class="option-btn" onclick="answerQuestion('age', 'married-parents')">
                            <span class="btn-emoji">ğŸ’š</span> Married Couples & Parents
                        </button>
                        <button class="option-btn" onclick="answerQuestion('age', 'journeying-adults')">
                            <span class="btn-emoji">ğŸŒŸ</span> Journeying Adults (30+)
                        </button>
                    </div>
                </div>

                <!-- Question 2: Gender -->
                <div class="question" id="q2">
                    <div class="question-icon">âš¡</div>
                    <h2>Some ministries are specific to men or women</h2>
                    <p class="question-helper">This helps us show you all relevant opportunities</p>
                    <div class="button-group">
                        <button class="option-btn" onclick="answerQuestion('gender', 'male')">
                            <span class="btn-emoji">â™‚ï¸</span> Male
                        </button>
                        <button class="option-btn" onclick="answerQuestion('gender', 'female')">
                            <span class="btn-emoji">â™€ï¸</span> Female
                        </button>
                        <button class="option-btn" onclick="answerQuestion('gender', 'skip')">
                            <span class="btn-emoji">â¡ï¸</span> Show me everything
                        </button>
                    </div>
                    <div class="navigation">
                        <button class="nav-btn" onclick="goBack(2)">â† Back</button>
                        <div></div>
                    </div>
                </div>

                <!-- Question 3: State in Life -->
                <div class="question" id="q3">
                    <div class="question-icon">ğŸ’«</div>
                    <h2>What describes your state in life?</h2>
                    <p class="question-helper">Select all that apply to you:</p>
                    <div class="checkbox-group modern" id="state-checkboxes">
                        <div class="checkbox-item" onclick="toggleStateCheckbox('single')">
                            <input type="checkbox" id="state-single" value="single" onchange="handleStateCheckboxChange('single')">
                            <label for="state-single">
                                <span class="checkbox-emoji">ğŸŒ±</span> Single
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleStateCheckbox('married')">
                            <input type="checkbox" id="state-married" value="married" onchange="handleStateCheckboxChange('married')">
                            <label for="state-married">
                                <span class="checkbox-emoji">ğŸ’</span> Married
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleStateCheckbox('parent')">
                            <input type="checkbox" id="state-parent" value="parent" onchange="handleStateCheckboxChange('parent')">
                            <label for="state-parent">
                                <span class="checkbox-emoji">ğŸ§‘â€ğŸ§’â€ğŸ§’</span> Parent
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleStateCheckbox('none-of-above')">
                            <input type="checkbox" id="state-none-of-above" value="none-of-above" onchange="handleStateCheckboxChange('none-of-above')">
                            <label for="state-none-of-above">
                                <span class="checkbox-emoji">âœ¨</span> None of the above
                            </label>
                        </div>
                    </div>
                    <div class="navigation">
                        <button class="nav-btn" onclick="goBack(3)">â† Back</button>
                        <button class="nav-btn primary" onclick="nextFromState()">Continue â†’</button>
                    </div>
                </div>

                <!-- Question 4: Situation -->
                <div class="question" id="q4">
                    <div class="question-icon">ğŸ“‹</div>
                    <h2>What brings you here today?</h2>
                    <p class="question-helper">Select all that apply:</p>
                    <div class="checkbox-group modern" id="situation-checkboxes">
                        <div class="checkbox-item" onclick="toggleSituationCheckbox('new-to-stedward')">
                            <input type="checkbox" id="new-to-stedward" value="new-to-stedward" onchange="handleSituationCheckboxChange('new-to-stedward')">
                            <label for="new-to-stedward">
                                <span class="checkbox-emoji">ğŸŒŸ</span> New to St. Edward
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleSituationCheckbox('returning-to-church')">
                            <input type="checkbox" id="returning-to-church" value="returning-to-church" onchange="handleSituationCheckboxChange('returning-to-church')">
                            <label for="returning-to-church">
                                <span class="checkbox-emoji">ğŸ™</span> Returning to Church
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleSituationCheckbox('new-to-nashville')">
                            <input type="checkbox" id="new-to-nashville" value="new-to-nashville" onchange="handleSituationCheckboxChange('new-to-nashville')">
                            <label for="new-to-nashville">
                                <span class="checkbox-emoji">ğŸ“</span> New to Nashville
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleSituationCheckbox('current-parishioner')">
                            <input type="checkbox" id="current-parishioner" value="current-parishioner" onchange="handleSituationCheckboxChange('current-parishioner')">
                            <label for="current-parishioner">
                                <span class="checkbox-emoji">ğŸ’š</span> Current Parishioner
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleSituationCheckbox('just-curious')">
                            <input type="checkbox" id="just-curious" value="just-curious" onchange="handleSituationCheckboxChange('just-curious')">
                            <label for="just-curious">
                                <span class="checkbox-emoji">ğŸ”</span> Just Exploring
                            </label>
                        </div>
                        <div class="checkbox-item" onclick="toggleSituationCheckbox('situation-none-of-above')">
                            <input type="checkbox" id="situation-none-of-above" value="situation-none-of-above" onchange="handleSituationCheckboxChange('situation-none-of-above')">
                            <label for="situation-none-of-above">
                                <span class="checkbox-emoji">âœ¨</span> None of the above
                            </label>
                        </div>
                    </div>
                    <div class="navigation">
                        <button class="nav-btn" onclick="goBack(4)">â† Back</button>
                        <button class="nav-btn primary" onclick="nextFromSituation()">Continue â†’</button>
                    </div>
                </div>

                <!-- Question 5: Interests -->
                <div class="question" id="q5">
                    <div class="question-icon">ğŸ’¡</div>
                    <h2>What interests you most?</h2>
                    <p class="question-helper">Select all areas you'd like to explore:</p>
                    <div class="checkbox-group modern" id="interest-checkboxes">
                        <!-- Filled dynamically based on age -->
                    </div>
                    <div class="navigation">
                        <button class="nav-btn" onclick="goBack(5)">â† Back</button>
                        <button class="nav-btn primary celebrate" onclick="showResults()">
                            <span>See My Recommendations</span> ğŸ‰
                        </button>
                    </div>
                </div>

                <!-- Results -->
                <div id="results">
                    <div class="results-header">
                        <div class="success-icon">ğŸŠ</div>
                        <h2>Perfect! Here's your personalized path:</h2>
                    </div>
                    <div id="ministry-recommendations" class="ministry-list"></div>

                    <!-- Add this to templates/index.html in the results section, before parish-registration div -->

                    <div class="contact-form-section" id="contactFormSection">
                        <h3>ğŸ“ Stay Connected (Optional)</h3>
                        <p>Would you like someone from St. Edward to follow up with you about these ministries?</p>
                        
                        <div class="contact-form-toggle">
                            <button class="contact-toggle-btn" onclick="showContactForm()">
                                <span class="btn-icon">ğŸ’Œ</span> Yes, I'd like to be contacted
                            </button>
                            <button class="contact-toggle-btn secondary" onclick="skipContact()">
                                <span class="btn-icon">â­ï¸</span> No thanks, I'll reach out myself
                            </button>
                        </div>
                        
                        <div class="contact-form" id="contactForm" style="display: none;">
                            <div class="form-header">
                                <h4>We'd love to connect with you! ğŸŒŸ</h4>
                                <p>A ministry coordinator will reach out within 2-3 days.</p>
                            </div>
                            
                            <form id="userContactForm" onsubmit="submitContact(event)">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="contactName">First Name *</label>
                                        <input type="text" id="contactName" name="name" required placeholder="Your first name">
                                    </div>
                                    <div class="form-group">
                                        <label for="contactEmail">Email *</label>
                                        <input type="email" id="contactEmail" name="email" required placeholder="your.email@example.com">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="contactPhone">Phone (Optional)</label>
                                    <input type="tel" id="contactPhone" name="phone" placeholder="(615) 555-0123">
                                </div>
                                
                                <div class="form-group">
                                    <label for="contactMessage">Questions or Comments (Optional)</label>
                                    <textarea id="contactMessage" name="message" rows="3" placeholder="Anything specific you'd like to know about these ministries?"></textarea>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="button" class="form-btn secondary" onclick="hideContactForm()">
                                        â† Go Back
                                    </button>
                                    <button type="submit" class="form-btn primary" id="submitContactBtn">
                                        <span class="btn-icon">ğŸ“§</span> Send My Information
                                    </button>
                                </div>
                            </form>
                            
                            <div class="contact-success" id="contactSuccess" style="display: none;">
                                <div class="success-message">
                                    <h4>âœ… Thank you!</h4>
                                    <p>We've received your information and someone will reach out to you soon.</p>
                                    <p><strong>Next step:</strong> Check out the parish registration below to get connected immediately!</p>
                                    <button class="form-btn primary" onclick="hideContactForm()">Continue to Registration â†’</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="parish-registration">
                        <h3>ğŸ‰ Ready to Take the Next Step?</h3>
                        <p>Join our parish family and stay connected with all these opportunities!</p>
                        
                        <div class="registration-buttons">
                            <a href="https://stedwardnash.flocknote.com/register" target="_blank" class="registration-btn">
                                <span class="btn-icon">ğŸ“§</span> Register with Our Parish
                            </a>
                        </div>
                        
                        <div class="social-links">
                            <a href="https://stedward.smugmug.com/" target="_blank">ğŸ“¸ Parish Photos</a>
                            <a href="https://www.instagram.com/stedwardcommunity/" target="_blank">ğŸ“± Instagram</a>
                            <a href="https://www.facebook.com/stedwardschool" target="_blank">ğŸ‘¥ Facebook</a>
                        </div>
                    </div>
                    
                    <div class="contact-info">
                        <h4>Have Questions? We're Here to Help!</h4>
                        <p><strong>Call:</strong> (615) 833-5520</p>
                        <p><strong>Email:</strong> <a href="mailto:support@stedward.org">support@stedward.org</a></p>
                        <p><strong>Visit:</strong> <a href="https://stedward.org" target="_blank">stedward.org</a></p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="restart-btn" onclick="restart()">
                            <span class="btn-icon">ğŸ”„</span> Start Over
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load JavaScript files -->
    <script src="{{ url_for('static', filename='js/confetti.js') }}"></script>
    <script src="{{ url_for('static', filename='js/quiz.js') }}"></script>
</body>
</html>
