<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5JQ9X7HQPT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-5JQ9X7HQPT');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Path at St. Edward</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â›ª</text></svg>">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Preparing Your Journey...</div>
        <div class="loading-subtext">
            Getting everything ready for you â›ª
        </div>
    </div>
    
 <header class="header">
    <div class="header-content header-clickable" id="headerLogo">
        <img src="https://static.wixstatic.com/media/a33a4b_ed0efbf5e52d458ab137fc4f85e55260~mv2.png" alt="St. Edward Church Logo" class="header-logo" />
        <div class="logo-text">St. Edward Church & School</div>
    </div>
</header>

<div class="container">
    <div class="main-card">
        <div class="card-header">
            <h2 class="welcome-title">Welcome to St. Edward!</h2>
            <div class="subtitle">Find Your Path in Our Community</div>
            <div class="theme-verse">"Through Love, Serve One Another" - Galatians 5:13</div>
            <p>Let's help you discover the perfect way to get involved in our community. This takes just 2-3 minutes!</p>
        </div>

            <div class="card-content">
                <div class="progress-container">
                    <div class="progress">
                        <div class="progress-bar" id="progress-bar"></div>
                    </div>
                    <div class="progress-text" id="progress-text">Let's get started!</div>
                </div>
                
                <!-- Question 1: Age -->
                <div class="question active" id="q1">
                    <div class="question-icon">ğŸ‘¤</div>
                    <h2>First, tell us about yourself:</h2>
                    <p class="question-helper">Select the option that best describes you or your child</p>
                    <div class="button-group">
                        <button class="option-btn" data-answer="infant" data-type="age">
                            <span class="btn-emoji">ğŸ‘¶</span> Infant (0-3)
                        </button>
                        <button class="option-btn" data-answer="elementary" data-type="age">
                            <span class="btn-emoji">ğŸ’</span> Elementary School (PreK-Grade 5)
                        </button>
                        <button class="option-btn" data-answer="junior-high" data-type="age">
                            <span class="btn-emoji">ğŸ“š</span> Junior High (Grades 6-8)
                        </button>
                        <button class="option-btn" data-answer="high-school" data-type="age">
                            <span class="btn-emoji">ğŸ“</span> High School (Grades 9-12)
                        </button>
                        <button class="option-btn" data-answer="college-young-adult" data-type="age">
                            <span class="btn-emoji">ğŸ¯</span> College & Young Adult (18-35)
                        </button>
                        <button class="option-btn" data-answer="married-parents" data-type="age">
                            <span class="btn-emoji">ğŸ’š</span> Married Couples & Parents
                        </button>
                        <button class="option-btn" data-answer="journeying-adults" data-type="age">
                            <span class="btn-emoji">ğŸŒŸ</span> Journeying Adults (30+)
                        </button>
                    </div>
                </div>

                <!-- Question 2: Gender -->
                <div class="question" id="q2">
                    <div class="question-icon">ğŸ™‹â€â™€ï¸â”ğŸ™‹â€â™‚ï¸</div>
                    <h2>Some ministries are specific to men or women</h2>
                    <p class="question-helper">This helps us show you all relevant opportunities</p>
                    <div class="button-group">
                        <button class="option-btn" data-answer="male" data-type="gender">
                            <i class="fas fa-male" style="font-size: 1.5rem;"></i> Male
                        </button>
                        <button class="option-btn" data-answer="female" data-type="gender">
                            <i class="fas fa-female" style="font-size: 1.5rem;"></i> Female
                        </button>
                        <button class="option-btn" data-answer="skip" data-type="gender">
                            <span class="btn-emoji">â¡ï¸</span> Show me everything
                        </button>
                    </div>
                    <div class="navigation">
                        <button class="nav-btn nav-back" data-question="2">â† Back</button>
                        <div></div>
                    </div>
                </div>

                <!-- Question 3: State in Life -->
                <div class="question" id="q3">
                    <div class="question-icon">ğŸ’«</div>
                    <h2>Which describes your state in life?</h2>
                    <p class="question-helper">Select all that apply to you:</p>
                    <div class="checkbox-group modern" id="state-checkboxes">
                        <div class="checkbox-item checkbox-clickable" data-value="single">
                            <input type="checkbox" id="state-single" value="single">
                            <label for="state-single">
                                <span class="checkbox-emoji">ğŸŒ±</span> Single
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="married">
                            <input type="checkbox" id="state-married" value="married">
                            <label for="state-married">
                                <span class="checkbox-emoji">ğŸ’</span> Married
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="parent">
                            <input type="checkbox" id="state-parent" value="parent">
                            <label for="state-parent">
                                <span class="checkbox-emoji">ğŸ§‘â€ğŸ§’â€ğŸ§’</span> Parent
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="none-of-above">
                            <input type="checkbox" id="state-none-of-above" value="none-of-above">
                            <label for="state-none-of-above">
                                <span class="checkbox-emoji">âœ¨</span> None of the above
                            </label>
                        </div>
                    </div>
                    <div class="navigation">
                        <button class="nav-btn nav-back" data-question="3">â† Back</button>
                        <button class="nav-btn primary nav-next-state">Continue â†’</button>
                    </div>
                </div>

                <!-- Question 4: Situation -->
                <div class="question" id="q4">
                    <div class="question-icon">ğŸ“‹</div>
                    <h2>What brings you here today?</h2>
                    <p class="question-helper">Select all that apply:</p>
                    <div class="checkbox-group modern" id="situation-checkboxes">
                        <div class="checkbox-item checkbox-clickable" data-value="new-to-stedward">
                            <input type="checkbox" id="new-to-stedward" value="new-to-stedward">
                            <label for="new-to-stedward">
                                <span class="checkbox-emoji">ğŸ†•</span> New to St. Edward
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="returning-to-church">
                            <input type="checkbox" id="returning-to-church" value="returning-to-church">
                            <label for="returning-to-church">
                                <span class="checkbox-emoji">ğŸ™</span> Returning to Church
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="new-to-nashville">
                            <input type="checkbox" id="new-to-nashville" value="new-to-nashville">
                            <label for="new-to-nashville">
                                <span class="checkbox-emoji">ğŸ“</span> New to Nashville
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="current-parishioner">
                            <input type="checkbox" id="current-parishioner" value="current-parishioner">
                            <label for="current-parishioner">
                                <span class="checkbox-emoji">ğŸ’š</span> Current Parishioner
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="just-curious">
                            <input type="checkbox" id="just-curious" value="just-curious">
                            <label for="just-curious">
                                <span class="checkbox-emoji">ğŸ”</span> Just Exploring
                            </label>
                        </div>
                        <div class="checkbox-item checkbox-clickable" data-value="situation-none-of-above">
                            <input type="checkbox" id="situation-none-of-above" value="situation-none-of-above">
                            <label for="situation-none-of-above">
                                <span class="checkbox-emoji">ğŸ™‚â€â†”ï¸</span> None of the above
                            </label>
                        </div>
                    </div>
                    <div class="navigation">
                        <button class="nav-btn nav-back" data-question="4">â† Back</button>
                        <button class="nav-btn primary nav-next-situation">Continue â†’</button>
                    </div>
                </div>

                <!-- Question 5: Interests -->
                <div class="question" id="q5">
                    <div class="question-icon">ğŸ’¡</div>
                    <h2>What interests you most?</h2>
                    <p class="question-helper">Select all areas you'd like to explore:</p>
                    <div class="checkbox-group modern" id="interest-checkboxes">
                        <!-- Filled dynamically based on age -->
                    </div>
                    <div class="navigation">
                        <button class="nav-btn nav-back" data-question="5">â† Back</button>
                        <button class="nav-btn primary celebrate nav-show-results">
                            <span>See My Recommendations</span> ğŸ‘€
                        </button>
                    </div>
                </div>

                <!-- Results -->
                <div id="results">
                    <div class="results-header">
                        <h2>Perfect! Here's your personalized path:</h2>
                    </div>
                    <div id="ministry-recommendations" class="ministry-list"></div>

                    <!-- Add this to templates/index.html in the results section, before parish-registration div -->
                    <div class="parish-registration">
                        <h3>Ready to Take the Next Step?</h3>
                        <p>Join our parish family and stay connected with all these opportunities!</p>
                        
                        <div class="registration-buttons">
                            <a href="https://stedwardnash.flocknote.com/register" target="_blank" class="registration-btn">
                                <span class="btn-icon">ğŸ™Œ</span> Register at St. Edward
                            </a>
                        </div>
                        
                        <div class="social-links">
                            <a href="https://stedward.smugmug.com/" target="_blank">ğŸ“¸ Parish Photos</a>
                            <a href="https://www.instagram.com/stedwardcommunity/" target="_blank">ğŸ“± Instagram</a>
                            <a href="https://www.facebook.com/stedwardschool" target="_blank">ğŸ‘¥ Facebook</a>
                        </div>
                    </div>
                    
                    <div class="contact-form-section" id="contactFormSection">
                        <h3>Want to be contacted? (Optional)</h3>
                        <p>Would you like someone from St. Edward to follow up with you about these ministries?</p>
                        
                        <div class="contact-form-toggle">
                            <button class="contact-toggle-btn btn-show-contact">
                                <span class="btn-icon"></span> Yes, I'd like to be contacted
                            </button>
                            <button class="contact-toggle-btn secondary btn-skip-contact">
                                <span class="btn-icon"></span> No thanks, I'll reach out myself
                            </button>
                        </div>
                        
                        <div class="contact-form" id="contactForm" style="display: none;">
                            <div class="form-header">
                                <h4>We'd love to connect with you! ğŸŒŸ</h4>
                                <p>A ministry coordinator will reach out within 2-3 days.</p>
                            </div>
                            
                            <form id="userContactForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="contactName">First Name *</label>
                                        <input type="text" id="contactName" name="name" required placeholder="Your first name">
                                    </div>
                                    <div class="form-group">
                                        <label for="contactEmail">Email *</label>
                                        <input type="email" id="contactEmail" name="email" required placeholder="your.email@example.com">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="contactPhone">Phone (Optional)</label>
                                    <input type="tel" id="contactPhone" name="phone" placeholder="(615) 555-0123">
                                </div>
                                
                                <div class="form-group">
                                    <label for="contactMessage">Questions or Comments (Optional)</label>
                                    <textarea id="contactMessage" name="message" rows="3" placeholder="Anything specific you'd like to know about these ministries?"></textarea>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="button" class="form-btn secondary btn-hide-contact">
                                        â† Go Back
                                    </button>
                                    <button type="submit" class="form-btn primary" id="submitContactBtn">
                                        <span class="btn-icon">ğŸ“§</span> Send My Information
                                    </button>
                                </div>
                            </form>
                            
                            <div class="contact-success" id="contactSuccess" style="display: none;">
                                <div class="success-message">
                                    <h4>âœ… Thank you!</h4>
                                    <p>We've received your information, and someone will reach out to you soon.</p>
                                    <p><strong>Next step:</strong> Check out the parish registration below to get connected immediately!</p>
                                    <button class="form-btn primary btn-hide-contact-success">Continue to Registration â†’</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    

                    <div class="contact-info">
                        <h4>Have Questions? We're Here to Help!</h4>
                        <p><strong>Call:</strong> (615) 833-5520</p>
                        <p><strong>Email:</strong> <a href="mailto:support@stedward.org">support@stedward.org</a></p>
                        <p><strong>Visit:</strong> <a href="https://stedward.org" target="_blank">stedward.org</a></p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="restart-btn btn-restart">
                            <span class="btn-icon">ğŸ”„</span> Start Over
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load JavaScript files -->
    <script src="{{ url_for('static', filename='js/confetti.js') }}"></script>
    <script src="{{ url_for('static', filename='js/quiz.js') }}"></script>
    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-info">
                <h3>St. Edward Church & School</h3>
                <p>188 Thompson Lane, Nashville, TN 37211</p>
                <p>
                    <a href="mailto:support@stedward.org">support@stedward.org</a> â€¢ 
                    <a href="tel:6158335520">(615) 833-5520</a>
                </p>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="copyright-year"></span> St. Edward Church & School. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Load JavaScript files -->
    <script src="{{ url_for('static', filename='js/confetti.js') }}"></script>
    <script src="{{ url_for('static', filename='js/quiz.js') }}"></script>
    <script>
        // Set copyright year
        document.getElementById('copyright-year').textContent = new Date().getFullYear();
    </script>
</body>
</html>
